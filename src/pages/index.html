<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vehicle Rental API Documentation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        .container {
            width: 80%;
            margin: 0 auto;
        }
        h1, h2, h3 {
            color: #333;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 5px;
            border-radius: 3px;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-left: 3px solid #ccc;
            overflow-x: auto;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Vehicle Rental API Documentation</h1>
    <p>This is the API documentation for the Vehicle Rental system, which allows users to manage vehicle rentals, reservations, and vehicles.</p>

    <h2>Rentals</h2>
    
    <h3>1. Get All Rentals</h3>
    <p>Retrieve all active rentals.</p>
    <strong>Endpoint:</strong>
    <pre><code>GET /api/v1/rental/rentals</code></pre>
    <strong>Response:</strong>
    <pre><code>[
  {
    "_id": "rentalID",
    "vehicleID": "vehicleID",
    "userId": "userID",
    "returnedAt": null,
    "station": "stationName"
  }
]</code></pre>

    <h3>2. Rent a Vehicle</h3>
    <p>Rent a vehicle by specifying a vehicle type, pick-up station and user id.</p>
    <strong>Endpoint:</strong>
    <pre><code>POST /api/v1/rental/rentals/add</code></pre>
    <strong>Request Body:</strong>
    <pre><code>{
  "type": "Scooter",
  "userId": "64f9c6d5d6a16e0012f9f9d3",
  "station": "Bozolli"
}</code></pre>
    <strong>Response:</strong>
    <pre><code>{
  "message": "Rental successful",
  "vehicle": {
    "_id": "66fdd727b1f2a53ede1b67de",
    "type": "Scooter",
    "station": "Bozolli",
    "available": false,
    "__v": 0
  },
  "rental": {
    "userId": "64f9c6d5d6a16e0012f9f9d3",
    "vehicleID": "66fdd727b1f2a53ede1b67de",
    "_id": "66ff202dafd656e5c6bbf92d",
    "rentTimestamp": "2024-10-03T22:52:29.330Z",
    "__v": 0
  }
}</code></pre>

    <h3>3. End a Rental</h3>
    <p>Return a rented vehicle by rental ID and specify the return station.</p>
    <strong>Endpoint:</strong>
    <pre><code>PUT /api/v1/rental/rentals/return/:id</code></pre>
    <strong>Request Body:</strong>
    <pre><code>{
  "station": "Central Station"
}</code></pre>
    <strong>Response:</strong>
    <pre><code>{
        "message": "Vehicle returned successfully",
        "vehicle": {
          "_id": "66fdd727b1f2a53ede1b67de",
          "type": "Scooter",
          "station": "Hall-29",
          "available": true,
          "__v": 0
        }
}</code></pre>

    <h3>4. Get a Rental by ID</h3>
    <p>Retrieve a rental by its ID.</p>
    <strong>Endpoint:</strong>
    <pre><code>GET /api/v1/rental/rentals/:id</code></pre>
    <strong>Response:</strong>
    <pre><code>{
  "id": "rental_id",
  "vehicleID": "vehicle_id",
  "userId": "user_id",
  "returnedAt": null
}</code></pre>

    <h3>5. Update a Rental by ID</h3>
    <p>Update a rental by its ID.</p>
    <strong>Endpoint:</strong>
    <pre><code>PUT /api/v1/rental/rentals/update/:id</code></pre>
    <strong>Request Body:</strong>
    <pre><code>{
  "returnedAt": "2024-01-02T00:00:00Z"
}</code></pre>
    <strong>Response:</strong>
    <pre><code>{
  "id": "rental_id",
  "vehicleID": "vehicle_id",
  "userId": "user_id",
  "returnedAt": "2024-01-02T00:00:00Z"
}</code></pre>

    <h2>Reservations</h2>

    <h3>1. Create a Reservation</h3>
    <p>Create a new reservation for a vehicle, given userId, vehicle type and pick-up station.</p>
    <strong>Endpoint:</strong>
    <pre><code>POST /api/v1/rental/reservations/add</code></pre>
    <strong>Request Body:</strong>
    <pre><code>{
  "type": "Bicycle",
  "userId": "user789",
  "station": "Hall-29"
}</code></pre>
    <strong>Response:</strong>
    <pre><code>{
        "message": "Reservation successful",
        "vehicle": {
          "_id": "66fe4c01c0381ca600059429",
          "type": "Bicycle",
          "station": "Hall-29",
          "available": false,
          "__v": 0
        },
        "reservation": {
          "userId": "64f9c6d5d6a16e0012f9f9d3",
          "status": "reserved",
          "_id": "66ff22beafd656e5c6bbf937",
          "timestamp": "2024-10-03T23:03:26.941Z",
          "__v": 0
        }
      }</code></pre>

    <h3>2. Get All Reservations</h3>
    <p>Retrieve all reservations.</p>
    <strong>Endpoint:</strong>
    <pre><code>GET /api/v1/rental/reservations</code></pre>
    <strong>Response:</strong>
    <pre><code>[
  {
    "_id": "reservationID",
    "vehicleID": "bike456",
    "userId": "user789"
  }
]</code></pre>

    <h3>3. Cancel a Reservation</h3>
    <p>Cancel a reservation by its ID.</p>
    <strong>Endpoint:</strong>
    <pre><code>DELETE /api/v1/rental/reservations/:id</code></pre>
    <strong>Response:</strong>
    <pre><code>{
  "message": "Reservation cancelled successfully",
  "reservation": {
    "_id": "reservationID",
    "userId": "user789",
    "vehicleID": "bike456"
  }
}</code></pre>

    <h3>4. Get a Reservation by ID</h3>
    <p>Retrieve a reservation by its ID.</p>
    <strong>Endpoint:</strong>
    <pre><code>GET /api/v1/rental/reservations/:id</code></pre>
    <strong>Response:</strong>
    <pre><code>{
  "id": "reservation_id",
  "vehicleID": "vehicle_id",
  "userId": "user_id",
  "createdAt": "2024-01-01T12:00:00Z"
}</code></pre>

    <h3>5. Update a Reservation by ID</h3>
    <p><strong>Endpoint:</strong> <code>PUT api/v1/rental/reservations/:id</code></p>
    <p><strong>Description:</strong> Update a reservation by its ID.</p>
    <p><strong>Request Body:</strong></p>
    <pre><code>{
    "vehicleID": "new_vehicle_id",
    "userId": "new_user_id"
    }</code></pre>
    <p><strong>Response:</strong></p>
    <pre><code>{
    "id": "reservation_id",
    "vehicleID": "new_vehicle_id",
    "userId": "new_user_id",
    "updatedAt": "2024-01-02T00:00:00Z"
}</code></pre>

<h3>6. Redeem a reservation and start a rental</h3>
<p><strong>Endpoint:</strong> <code>POST api/v1/rental/reservations/redeem</code></p>
<p><strong>Description:</strong> Redeem a reservation.</p>
<p><strong>Request Body Example:</strong></p>
<pre><code>{
    "reservationId": "64b6b1f19b2346001cdfe39d"
  }</code></pre>
<p><strong>Response Example:</strong></p>
<pre><code>{
    "message": "Rental started successfully",
    "reservation": {
      "_id": "64b6b1f19b2346001cdfe39d",
      "vehicleId": "64b6b1f19b2346001cdfe39e",
      "userId": "64b6b1f19b2346001cdfe39f",
      "startTime": "2024-10-04T08:34:12.000Z"
    },
    "vehicle": {
      "_id": "64b6b1f19b2346001cdfe39e",
      "type": "Bicycle",
      "station": "Library-Lawns",
      "available": false
    },
    "rental": {
      "_id": "64b6b1f19b2346001cdfe3a0",
      "vehicleID": "64b6b1f19b2346001cdfe39e",
      "userId": "64b6b1f19b2346001cdfe39f",
      "startTime": "2024-10-04T08:34:12.000Z"
    }
  }</code></pre>





    <h2>Errors</h2>
    <p>Common error responses:</p>
    <pre><code>{
  "error": "Message describing the error"
}</code></pre>

    <h2>Vehicles</h2>

    <h3>1. Get All Vehicles</h3>
    <p>Retrieve all available vehicles.</p>
    <strong>Endpoint:</strong>
    <pre><code>GET /api/v1/rental/vehicles</code></pre>
    <strong>Response:</strong>
    <pre><code>[
  {
    "_id": "vehicleID1",
    "type": "bike",
    "available": true,
    "station": "Hall-29"
  },
  {
    "_id": "vehicleID2",
    "type": "scooter",
    "available": false,
    "station": "Hall-29"
  }
]</code></pre>

    <h3>2. Get Vehicle by ID</h3>
    <p>Retrieve details about a specific vehicle by its ID.</p>
    <strong>Endpoint:</strong>
    <pre><code>GET /api/v1/rental/vehicles/:id</code></pre>
    <strong>Response:</strong>
    <pre><code>{
  "_id": "vehicleID1",
  "type": "bike",
  "available": true,
  "station": "Bozolli"
}</code></pre>

    <h3>3. Add a New Vehicle</h3>
    <p>Add a new vehicle to the system.</p>
    <strong>Endpoint:</strong>
    <pre><code>POST /api/v1/rental/vehicles/add</code></pre>
    <strong>Request Body:</strong>
    <pre><code>{
  "type": "bike",
  "station": "Bozolli"
}</code></pre>
    <strong>Response:</strong>
    <pre><code>{
  "_id": "vehicleID3",
  "type": "bike",
  "available": true,
  "station": "Hall-29"
}</code></pre>

    <h3>4. Get a Vehicle by station</h3>
    <p>Retrieve details about a specific vehicle by its station.</p>
    <strong>Endpoint:</strong>
    <pre><code>PUT /api/v1/rental/station/:station</code></pre>
    <strong>Request Body:</strong>
    <pre><code>{
  "station": "Bozolli"
}</code></pre>
    <strong>Response:</strong>
    <pre><code>{
  "_id": "vehicleID3",
  "type": "bike",
  "available": true,
  "station": "Hall-29"
}</code></pre>

    <h3>5. Delete a Vehicle by ID</h3>
    <p>Remove a vehicle from the system by its ID.</p>
    <strong>Endpoint:</strong>
    <pre><code>DELETE /api/v1/rental/vehicles/:id</code></pre>
    <strong>Response:</strong>
    <pre><code>{
  "message": "Vehicle deleted successfully"
}</code></pre>

</body>
</html>


